!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.xmot=t():e.xmot=t()}(globalThis,(function(){return(()=>{var e={682:(e,t,r)=>{var n,o;!function(i){if(void 0===(o="function"==typeof(n=i)?n.call(t,r,t,e):n)||(e.exports=o),!0,e.exports=i(),!!0){var a=window.Cookies,c=window.Cookies=i();c.noConflict=function(){return window.Cookies=a,c}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(n){function o(){}function i(t,r,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(r);/^[\{\[]/.test(a)&&(r=a)}catch(s){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var c="";for(var u in i)i[u]&&(c+="; "+u,!0!==i[u]&&(c+="="+i[u].split(";")[0]));return document.cookie=t+"="+r+c}}function a(e,r){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var c=i[a].split("="),u=c.slice(1).join("=");r||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var s=t(c[0]);if(u=(n.read||n)(u,s)||t(u),r)try{u=JSON.parse(u)}catch(d){}if(o[s]=u,e===s)break}catch(d){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(t,r){i(t,"",e(r,{expires:-1}))},o.defaults={},o.withConverter=r,o}((function(){}))}))}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var n={};return(()=>{"use strict";r.d(n,{default:()=>nt});var e=r(682),t=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(c){o={error:c}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o={in:[108,121,124,124],id:[109,126,128,128],de:[710,711,592,592],nl:[579,580,591,591],es:[138,139,605,605],fr:[571,572,573,573],it:[524,525,589,589],uk:[577,578,590,590],ru:[132,575,587,587],hk:[103,129,604,604],tw:[104,120,127,127],default:[0,0,0,0]},i={default:{APP_ID:"2882303761517399893",PRO_ID:"16"},pocoDefault:{APP_ID:"31000000334",PRO_ID:"16"}},a={fr:"high",nl:"high",es:"high",de:"high",it:"high",uk:"high",tr:"high",pl:"high",se:"high",global:"high",gr:"high"},c={in:!0,default:!0};function u(e){var r=t(o[e]||o.default,4);return{pc:r[0],m:r[1],app:r[2],ios:r[3]}}function s(e){return i[e]||(document.domain.includes("po.co")?i.pocoDefault:i.default)}var d={ae:{currencyCode:"AED"},au:{currencyCode:"AUD"},bd:{currencyCode:"BDT"},be:{currencyCode:"EUR"},br:{currencyCode:"BRL"},ca:{currencyCode:"CAD"},cl:{currencyCode:"CLP"},cn:{currencyCode:"CNY"},co:{currencyCode:"COP"},cz:{currencyCode:"CZK"},de:{currencyCode:"EUR"},dk:{currencyCode:"DKK"},eg:{currencyCode:"EGP"},es:{currencyCode:"EUR"},fr:{currencyCode:"EUR"},gcc:{currencyCode:"AED"},global:{currencyCode:"USD"},gr:{currencyCode:"GRD"},hk:{currencyCode:"HKD"},hu:{currencyCode:"HUF"},id:{currencyCode:"IDR"},ie:{currencyCode:"EUR"},il:{currencyCode:"ILS"},ir:{currencyCode:"IRR"},in:{currencyCode:"INR"},it:{currencyCode:"EUR"},jp:{currencyCode:"JPY"},kr:{currencyCode:"KRW"},la:{currencyCode:"LAK"},lk:{currencyCode:"LKR"},lu:{currencyCode:"EUR"},ma:{currencyCode:"MAD"},mm:{currencyCode:"MMK"},mo:{currencyCode:"MOP"},mx:{currencyCode:"MXN"},my:{currencyCode:"MYR"},ng:{currencyCode:"NGN"},nl:{currencyCode:"EUR"},np:{currencyCode:"NPR"},nz:{currencyCode:"NZD"},ph:{currencyCode:"PHP"},pk:{currencyCode:"PKR"},pl:{currencyCode:"PLN"},pt:{currencyCode:"EUR"},ro:{currencyCode:"RON"},ru:{currencyCode:"RUB"},sa:{currencyCode:"SAR"},se:{currencyCode:"SEK"},sg:{currencyCode:"SGD"},th:{currencyCode:"THB"},tr:{currencyCode:"TRY"},tw:{currencyCode:"TWD"},ua:{currencyCode:"UAH"},uk:{currencyCode:"GBP"},us:{currencyCode:"USD"},vn:{currencyCode:"VND"},za:{currencyCode:"ZAR"}};function m(e){return Object.assign({currencyCode:"USD"},d[e]||{})}function l(e){return c[e]||c.default}var p=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(oe){i(oe)}}function c(e){try{u(n.throw(e))}catch(oe){i(oe)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,c)}u((n=n.apply(e,t||[])).next())}))},f=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(oe){i=[6,oe],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},_=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(c){o={error:c}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},g=function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},v=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},y=["guserid","instance_id","muserid","site_country","tz","app_platform","ot_ua","last_source","utm_channel","utm_content","utm_term","utm_type"];function w(){return e.get("mstuid")||""}function h(t){var r="1"===e.get("_ot_use_type"),n=ee();return!r&&w()?n=w():e.get("_ot_instance_id")?n=e.get("_ot_instance_id")||n:e.set("_ot_instance_id",n,k(t,{expires:new Date(Date.now()+34128e6)})),n}function b(e,t){if(e instanceof Object){var r=document.querySelector("html"),n=document.querySelector("body"),o="";if(t)try{var i=t.closest("[data-ot-module]");o=!!i&&i.getAttribute("data-ot-module")||""}catch(oe){}var a=[e.a||!!r&&r.getAttribute("data-ot-project")||s("default").PRO_ID,e.b||!!n&&n.getAttribute("data-ot-page")||0,e.c||o||0,e.d||0,e.e||0,Math.floor(Math.random()*Math.pow(10,8))];return S(a)?a.join("."):""}var c=(e||"").split(".");return S(c)?g(g([],_(c.slice(0,5))),[Math.floor(Math.random()*Math.pow(10,8))]).join("."):""}function I(e){var t,r=e.split(".");if(S(r)){var n="",o="",i=_(r,5),a=i[1],c=i[2],u=i[3],s=i[4],d=c.split("|");return d.length>0&&(n=(t=_(d,2))[0],o=t[1]),{tipB:a,tipC:n,tipC1:o||"",tipD:u,tipE:s}}return{tipB:"",tipC:"",tipC1:"",tipD:"",tipE:""}}function S(e){var t=!0;return e.length<5&&(t=!1),e.slice(0,2).some((function(e){return 0===Number(e||0)}))&&(t=!1),J()&&!t&&console.warn("The tip code ["+e.join(".")+"] is invalid!"),!!t}function O(t){var r=N(),n=t.split("."),o=_(n,5),i=o[0],a=o[1],c=o[2],u=o[3],s=o[4];r&&e.set("_ot_ref_tip",n.length>5?i+"."+a+"."+c+"."+u+"."+s:"",k(r))}function E(){return e.get("_ot_ref_tip")||""}function N(){var e=document.querySelector("html");return e&&e.getAttribute("data-ot-local")||(window.location.pathname||"/").split("/")[1]||""}function A(){var t=document.querySelector("html"),r=t&&t.getAttribute("data-ot-platform"),n=L(),o=n.isOtherApp,i=n.isMihomeApp,a=n.isMicommunityApp;return o?i?"mihome":a?"micommunity":"others":"1"===e.get("ISAPP")?"android":"1"===e.get("ISIOS")?"ios":r||"m"}function C(t){!function(t){var r=Number(e.get("_ot_last_time")||0);r&&Date.now()-r>18e5&&e.set("_ot_update_flag","true",k(t));!function(t){e.set("_ot_last_time",String(Date.now()),k(t))}(t)}(t);var r=document.referrer||"",n=([k(t).domain,".xiaomi.com",".xiaomi.net"].some((function(e){return!!~r.indexOf(e)}))?e.get("_ot_last_source"):r)||"",o="true"===e.get("_ot_update_flag")?"":n;return e.set("_ot_last_source",o||"",k(t,{expires:new Date(Date.now()+18e5)})),o}function P(t){var r=document.location.href||"",n=document.referrer||"",o=e.get("_ot_referrer_path")||"",i=e.get("_ot_curr_uri_path")||"";return r!==i&&(e.set("_ot_prev_uri_path",i,k(t)),e.set("_ot_curr_uri_path",r,k(t))),n===o&&n?e.get("_ot_prev_uri_path")||"":(e.set("_ot_prev_uri_path",n,k(t)),n||"")}function x(t,r,n){var o=n||e.get("_ot_"+r)||"",i="true"===e.get("_ot_update_flag")?"":o;return e.set("_ot_"+r,i,k(t,{expires:new Date(Date.now()+18e5)})),i}function T(t,r,n){return(r instanceof Array?r:[r]).forEach((function(r){return e.remove(r,k(t,n))}))}function k(e,t){return Object.assign({sameSite:"strict",path:"/"+e,domain:"."+(window.location.hostname||"").split(".").slice("id"===e?-3:-2).join(".")},t||{})}function R(t){var r=e.get("_ot_session_id")||String(Date.now());return e.set("_ot_session_id",r,k(t,{expires:new Date(Date.now()+18e5)})),r}function D(e){return"string"!=typeof e?void 0:e.replace(/^javascript:void\(0\)(;)?/g,"").replace(/^(http(s?):)?\/\//i,window.location.protocol+"//")}function L(){var t="1"===e.get("ISAPP")||"1"===e.get("ISIOS"),r=!!~["community_sdk","mihome_sdk"].indexOf(e.get("request_from")||""),n=!!~["mihome_sdk"].indexOf(e.get("request_from")||""),o=!!~["community_sdk"].indexOf(e.get("request_from")||""),i=t&&!r&&Number(e.get("APPVERSION"))<31500,a=t&&!r&&Number(e.get("IOSVERSION"))<31e3,c=t&&!r&&Number(e.get("APPVERSION"))<=40200,u=t&&!r&&Number(e.get("IOSVERSION"))<=40100,s=t&&!r&&Number(e.get("APPVERSION"))>=1e5;return{isInsideApp:t,isOldAPP:i,isOldIOS:a,isOtherApp:t&&r,isUseMiCommand:t&&!r&&(Number(e.get("APPVERSION"))>=31800||Number(e.get("IOSVERSION"))>=31300),isGAOldApp:c,isGAOldIOS:u,isPocoApp:s,isMihomeApp:n,isMicommunityApp:o}}function j(t,r){try{var n=JSON.stringify({eventType:t,params:r}),o="xiaomi://MiEventTrackCommand?action=logGA&params="+encodeURIComponent(n);"1"===e.get("ISIOS")?Number(e.get("IOSVERSION"))>=40503?window.webkit.messageHandlers.trackAction.postMessage({url:o}):window.location.assign(o):"1"===e.get("ISAPP")&&prompt(o)}catch(i){console.warn("GA4: An error occurred in app!")}}function U(e){var t=Object.assign({},e);for(var r in t)if(void 0===t[r])delete t[r];else if(Array.isArray(t[r]))for(var n=0;n<t[r].length;n++)t[r][n]=U(t[r][n]);else"object"==typeof t[r]&&(t[r]=U(t[r]));return t}function V(t,r){var n,o,i;t=function(e){var t=Object.assign({},e);for(var r in t)if(Array.isArray(t[r]))for(var n=0;n<t[r].length;n++)t[r][n]=U(t[r][n]);else"object"==typeof t[r]?t[r]=U(t[r]):"string"==typeof t[r]&&(y.includes(r)?t[r]=t[r].substr(0,36):t[r]=t[r].substr(0,100));return t}(t);var a=L(),c=a.isInsideApp,u=a.isGAOldApp,s=a.isGAOldIOS,d=a.isOtherApp,m=a.isPocoApp,l=c&&!u&&!s&&!d&&!m;if(!function(t){var r="1"===e.get("ISAPP"),n="1"===e.get("ISIOS"),o={de:r&&Number(e.get("APPVERSION"))<40403||n&&Number(e.get("IOSVERSION"))<40400,es:r&&Number(e.get("APPVERSION"))<40300||n&&Number(e.get("IOSVERSION"))<40400,fr:r&&Number(e.get("APPVERSION"))<40300||n&&Number(e.get("IOSVERSION"))<40400,id:r&&Number(e.get("APPVERSION"))<40700||n&&Number(e.get("IOSVERSION"))<40800,in:r&&Number(e.get("APPVERSION"))<40600||n&&Number(e.get("IOSVERSION"))<40700,it:r&&Number(e.get("APPVERSION"))<40300||n&&Number(e.get("IOSVERSION"))<40400,jp:r&&Number(e.get("APPVERSION"))<40400||n&&Number(e.get("IOSVERSION"))<40500,mx:r&&Number(e.get("APPVERSION"))<40800||n&&Number(e.get("IOSVERSION"))<40900,nl:r&&Number(e.get("APPVERSION"))<40400||n&&Number(e.get("IOSVERSION"))<40500,pl:r&&Number(e.get("APPVERSION"))<40500||n&&Number(e.get("IOSVERSION"))<40600,ru:r&&Number(e.get("APPVERSION"))<40400||n&&Number(e.get("IOSVERSION"))<40500,tr:r&&Number(e.get("APPVERSION"))<40400||n&&Number(e.get("IOSVERSION"))<40500,uk:r&&Number(e.get("APPVERSION"))<40400||n&&Number(e.get("IOSVERSION"))<40500,default:!1};return o[t]||o.default}(N()))if(l){var p=Object.assign({},t);delete p.event;try{var f=r?p.ecommerce:p;f.page_location=window.location.href.replace("/app/","/").replace("/ios/","/").substring(0,100),f.page_referrer=null===(n=f.page_referrer)||void 0===n?void 0:n.replace("/app/","/").replace("/ios/","/").substring(0,100),"page_view"===t.event?(j("screen_view",JSON.stringify({screen_name:f.page_type})),setTimeout((function(){j(t.event,JSON.stringify(U(f)))}),800)):j(t.event,JSON.stringify(U(f)))}catch(_){console.warn("GA4: An error occurred in app!")}}else try{r&&(null===(o=window.dataLayer)||void 0===o||o.push({ecommerce:null})),null===(i=window.dataLayer)||void 0===i||i.push(t)}catch(_){console.warn("GA4: An error occurred in web!")}}function M(t,r){if(r.tip&&Y()){var n=L(),o=n.isInsideApp,i=n.isOldAPP,a=n.isOldIOS,c=n.isOtherApp;if(o&&!i&&!a&&!c){var u=r.tip.split("."),s={b:u[1],c:u[2],d:u[3],e:u[4],location:window.location.href||"",page:$(),title:window.document.title||"",page_version:H()};Object.keys(r).forEach((function(e){"tip"!==e&&(s[e.replace(/([A-Z])/g,"_$1").toLowerCase()]=r[e])}));try{!function(t,r){if(L().isUseMiCommand&&"1"===e.get("ISIOS")){var n=JSON.stringify({eventType:t,params:r}),o="xiaomi://MiEventTrackCommand?action=track&params="+encodeURIComponent(n);Number(e.get("IOSVERSION"))>=40503?window.webkit.messageHandlers.trackAction.postMessage({url:o}):window.location.assign(o)}else window.WE&&window.WE.trackEvent&&"function"==typeof window.WE.trackEvent&&window.WE.trackEvent(t,r)}(t,JSON.stringify(F(s)))}catch(d){console.warn("OneTrack: An error occurred in app!")}}else try{"function"==typeof window.onetrack&&window.onetrack("track",t,F(r))}catch(d){console.warn("OneTrack: An error occurred in web!")}}}function B(e){return z({utm_type:"mi_type",utm_channel:"mi_channel",utm_campaign:"utm_campaign",utm_source:"mi_source",utm_medium:"mi_medium",utm_term:"mi_term",utm_content:"mi_content"}[e])||z(e)||""}function G(e,t){var r=Object.assign({},e);return t&&"object"==typeof t&&Object.keys(t).forEach((function(e){r[e.replace(/([A-Z])/g,"_$1").toLowerCase()]=q(t[e],"")})),r}function q(e,t){return void 0===e?null:void 0!==t?e||t:e}function W(e,t){return void 0===e?t||void 0:void 0!==t?""+e?e:e||t||void 0:e}function F(e){var t=Object.assign({},e);return Object.keys(t).forEach((function(e){~[null,void 0].indexOf(t[e])&&delete t[e]})),t}function J(){var e=document.querySelector("html"),t=e&&e.getAttribute("data-ot-test");return(document.domain.includes("test")||document.domain.includes("dev"))&&"true"===t}function H(){var e="";try{e=""+process.env.VERSION}catch(oe){}return e||"1.0.0"}function K(){var e="temp";try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(t){return!1}}function z(e,t){var r=t||window.location.search||(window.location.hash||"").replace(/.+\?/g,"?").replace(/#.+/g,"");if(!r)return"";var n=r.slice(1).split("&").map((function(e){return e.split("=")}));return(_(n.filter((function(t){var r=_(t,2),n=r[0];r[1];return n===e})).map((function(e){var t=_(e,2);t[0];return t[1]})),1)[0]||"").replace(/[ +]/g,"%20").replace(/(%[a-f0-9]{2})+/gi,(function(e){return decodeURIComponent(e)}))}var Z=function(){return{instanceId:("1"===e.get("_ot_use_type")?e.get("_ot_instance_id")||"":w())||"",viewTip:e.get("_ot_view_tip")||"",refTip:e.get("_ot_ref_tip")||"",refB:e.get("_ot_ref_b")||"",sessionId:e.get("_ot_session_id")||"",lastSource:e.get("_ot_last_source")||"",utmType:e.get("_ot_utm_type")||"",utmChannel:e.get("_ot_utm_channel")||"",utmCampaign:e.get("_ot_utm_campaign")||"",utmSource:e.get("_ot_utm_source")||"",utmMedium:e.get("_ot_utm_medium")||"",utmTerm:e.get("_ot_utm_term")||"",utmContent:e.get("_ot_utm_content")||""}};function Y(){var t=L().isInsideApp,r=N(),n=-1!==window.location.hostname.indexOf("po.co"),o=function(e){return"high"!==a[e]?"0,1,2,3:":"0:"}(r);return!!(t||n?"0,1,2,3:":e.get("notice_gdpr_prefs")||o).match(/3/)}function $(){return(window.location.pathname||"/").replace(/^\/[a-z]+/,"").replace(/\/(index.html)?$/,"")||"/index"}function X(e,t,r,n){return p(this,void 0,void 0,(function(){var o,i,a,c,u,s,d,m,l,p,_;return f(this,(function(f){switch(f.label){case 0:switch(o={},i=W(n.ecommerce.pageType||!!document.body&&document.body.getAttribute("data-ot-pageType")||void 0,""),a=W(t.itemListName,"")?i+"."+W(t.itemListName,""):void 0,c=W(t.itemListId,"")?i+"."+W(t.itemListId,""):i+"."+r.tipC+(r.tipC1?"|"+r.tipC1:""),e){case"view_item_list":return[3,1];case"select_item":return[3,2];case"view_item":return[3,3];case"view_cart":return[3,6];case"add_to_cart":return[3,9];case"remove_from_cart":return[3,12];case"begin_checkout":return[3,15];case"add_shipping_info":return[3,18];case"add_payment_info":return[3,21];case"select_promotion":return[3,24];case"view_promotion":return[3,25]}return[3,26];case 1:case 2:return o={item_list_name:W(a,""),item_list_id:W(c,""),index:Number(t.index||0)},[3,27];case 3:return u={},[4,ne("_ot_item_list_name")];case 4:return u.item_list_name=f.sent(),[4,ne("_ot_item_list_id")];case 5:return u.item_list_id=f.sent(),u.index=Number(t.index||0),o=u,[3,27];case 6:return s={},[4,ne("_ot_item_list_name")];case 7:return s.item_list_name=f.sent(),[4,ne("_ot_item_list_id")];case 8:return s.item_list_id=f.sent(),s.index=Number(t.index||0),o=s,[3,27];case 9:return d={},[4,ne("_ot_item_list_name")];case 10:return d.item_list_name=f.sent(),[4,ne("_ot_item_list_id")];case 11:return d.item_list_id=f.sent(),d.index=Number(t.index||0),o=d,[3,27];case 12:return m={},[4,ne("_ot_item_list_name")];case 13:return m.item_list_name=f.sent(),[4,ne("_ot_item_list_id")];case 14:return m.item_list_id=f.sent(),m.index=Number(t.index||0),o=m,[3,27];case 15:return l={},[4,ne("_ot_item_list_name")];case 16:return l.item_list_name=f.sent(),[4,ne("_ot_item_list_id")];case 17:return l.item_list_id=f.sent(),l.index=Number(t.index||0),o=l,[3,27];case 18:return p={},[4,ne("_ot_item_list_name")];case 19:return p.item_list_name=f.sent(),[4,ne("_ot_item_list_id")];case 20:return p.item_list_id=f.sent(),p.index=Number(t.index||0),o=p,[3,27];case 21:return _={},[4,ne("_ot_item_list_name")];case 22:return _.item_list_name=f.sent(),[4,ne("_ot_item_list_id")];case 23:return _.item_list_id=f.sent(),_.index=Number(t.index||0),o=_,[3,27];case 24:case 25:return o={promotion_id:W(t.promotionId,""),promotion_name:W(t.promotionName,""),creative_name:W(t.creativeName,""),creative_slot:W(t.creativeSlot,""),index:Number(t.index||0)},[3,27];case 26:return[3,27];case 27:return[2,o]}}))}))}function Q(e,t){for(var r=e.charCodeAt(0),n=t.charCodeAt(0),o="",i=r;i<=n;i++)o+=String.fromCharCode(i);return o}function ee(){return function(e,t){for(var r="",n=0;n<t;n++)r+=e[Math.floor(Math.random()*e.length)];return r}(Q("0","9")+Q("a","z"),32)}function te(e){var t,r,n,o,i,a;try{for(var c=v(e),u=c.next();!u.done;u=c.next()){var s=u.value;if(s){var d=String(s).toLowerCase();d.startsWith("spu")?a=s:d.length>=3&&d.length<=6?i=s:d.startsWith("3")&&d.length<11?n=s:d.startsWith("4")&&d.length<26&&(o=s)}}}catch(m){t={error:m}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(t)throw t.error}}return{commodityId:n,itemId:o,productId:i,spuId:a}}function re(t,r){var n=L(),o=n.isInsideApp,i=n.isGAOldApp,a=n.isGAOldIOS,c=n.isOtherApp,u=n.isPocoApp;if(!(o&&!i&&!a&&!c&&!u)||Number(e.get("APPVERSION"))<=40402||Number(e.get("IOSVERSION"))<=40504)e.set(t,r,k(N(),{expires:365}));else try{"1"===e.get("ISIOS")?window.webkit.messageHandlers.setStringPref.postMessage({key:t.split("_ot_")[1],value:r}):window.WE&&window.WE.trackEvent&&"function"==typeof window.WE.trackEvent&&window.WE.setStringPref(t.split("_ot_")[1],r)}catch(s){console.log("set module name-id error")}}function ne(t){var r=L(),n=r.isInsideApp,o=r.isGAOldApp,i=r.isGAOldIOS,a=r.isOtherApp,c=r.isPocoApp,u="";if(!(n&&!o&&!i&&!a&&!c)||Number(e.get("APPVERSION"))<=40402||Number(e.get("IOSVERSION"))<=40504)u=e.get(t)||void 0;else try{"1"===e.get("ISIOS")?(window.webkit.messageHandlers.getStringPref.postMessage(t.split("_ot_")[1]),setTimeout((function(){u=window.ITEM_LIST[t.split("_ot_")[1]]||void 0}),1e3)):window.WE&&window.WE.trackEvent&&"function"==typeof window.WE.trackEvent&&(u=window.WE.getStringPref(t.split("_ot_")[1])||void 0)}catch(s){console.log("get module name-id error")}return new Promise((function(t){try{Number(e.get("IOSVERSION"))>40504&&"1"===e.get("ISIOS")?setTimeout((function(){t(u)}),1e3):t(u)}catch(s){t(u)}}))}window.ITEM_LIST={},window.getStringPref=function(e){Object.assign(window.ITEM_LIST,e)};var oe,ie,ae,ce,ue=function(){return ue=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ue.apply(this,arguments)},se=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(c){o={error:c}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},de=function(t){if(!Y())return"";var r=document.querySelector("body"),n=se(t.tip instanceof Object?[0,t.tip.b]:String(t.tip||"").split("."),2)[1];if(n&&r&&r.setAttribute("data-ot-page",String(n||0)),t.pageType){var o=t.pageType;r&&r.setAttribute("data-ot-pageType",String(o||""))}return function(){var r,n=b(t.tip)||"",o={tip:n||"",commodity_id:q(t.commodityId,""),product_id:q(t.productId,""),goods_id:q(t.goodsId,""),tag:q(t.tag,""),version:q(t.version,""),exp_id:q(t.expId,"")};(t.viewTipDisabledB||t.viewTipEnabledE)&&function(e){K()&&(sessionStorage.setItem("DISABLED_B",JSON.stringify(e.rangeB||[])),sessionStorage.setItem("ENABLED_E",JSON.stringify(e.rangeE||[])))}({rangeB:t.viewTipDisabledB||[],rangeE:t.viewTipEnabledE||[]});var i,a,c=G(o,t.extra);if(Y()&&function(t){var r=_(E().split("."),2)[1],n=_((t||"").split("."),2)[1],o=e.get("_ot_ref_b")||"",i=N();r!==n&&r===o||O(""),i&&e.set("_ot_ref_b",n||"",k(i))}(n),M("view",c),window.dataLayer&&t.isOpenGA){var d=N(),m=A(),l=h(d),p=u(d),f=Number(p["pc"===m?"pc":"m"]),g=ue({event:"page_view",muserid:e.get("mUserId")||void 0,guserid:e.get("guserid")||void 0,instance_id:l||void 0,app_id:s(c.local).APP_ID||void 0,tip:n,ref_tip:E()||void 0,page:$(),page_version:H()||void 0,tz:(i=(new Date).getTimezoneOffset(),a=Math.abs(i),"GMT"+(i>0?"-":"+")+("00"+Math.floor(a/60)).slice(-2)+":"+("00"+a%60).slice(-2)||void 0),site_country:d||void 0,last_source:C(d)||void 0,app_platform:m||void 0,ot_ua:(null===(r=null===window||void 0===window?void 0:window.navigator)||void 0===r?void 0:r.userAgent)||void 0,utm_channel:x(d,"utm_channel",B("utm_channel"))||void 0,utm_content:x(d,"utm_content",B("utm_content"))||void 0,utm_term:x(d,"utm_term",B("utm_term"))||void 0,utm_type:x(d,"utm_type",B("utm_type"))||void 0,page_type:W(t.pageType||void 0,""),page_referrer:P(d)||void 0,domain_id:""+f||void 0,category_id:W(t.categoryId,""),category_name:W(t.categoryName,""),parent_category_id:W(t.parentCategoryId,""),parent_category_name:W(t.parentCategoryName,""),moe_enable:W(t.moeEnable,!1)},I(n));V(Object.assign({},g,{event:"basic_config"})),setTimeout((function(){V(g)}),0)}return n}()},me=function(){return me=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},me.apply(this,arguments)},le=function(e,t){var r=b(e.tip,t)||"";if(!r&&"login"!==e.event||!Y())return"";var n=Object.assign({},e),o=N(),i=te([n.commodityId,n.productId,n.itemId,n.spuId].filter((function(e){return!!e})));window.dataLayer&&V(me({event:n.event,element_name:W(n.elementName,""),element_title:W(n.elementTitle,""),tip:r,link:W(D(n.linkUrl||n.link),""),ref_tip:E()||void 0,page_type:W(n.pageType||!!document.body&&document.body.getAttribute("data-ot-pageType")||void 0,""),page_version:H()||void 0,asset_link:W(D(n.assetLink),""),asset_id:W(n.assetId,""),live_id:W(n.liveId,""),alg:W(n.alg,""),alg_ver:W(n.algVer,""),alg_group:W(n.algGroup,""),activity_id:W(n.activityId||n.eventId,""),search_result:W(n.searchResult||n.result,""),search_word:W(n.searchWord,""),search_type:W(n.searchType,""),commodity_id:W(i.commodityId,"")?""+W(i.commodityId,""):void 0,coupon_list:W(n.couponList,""),coupon_status:W(n.couponStatus,""),product_id:W(i.productId,"")?""+W(i.productId,""):void 0,tag:W(n.tag,""),spu_id:W(i.spuId,"")?""+W(i.spuId,""):void 0,item_name:W(n.itemName,""),item_id:W(i.itemId,"")?""+W(i.itemId,""):void 0,version:W(n.version,""),exp_id:W(n.expId,""),commentNbrofTotal:Number(n.commentNbrofTotal||0),page_referrer:P(o)||void 0,category_id:W(n.categoryId,""),category_name:W(n.categoryName,""),parent_category_id:W(n.parentCategoryId,""),parent_category_name:W(n.parentCategoryName,""),product_total_count:W(n.productTotalCount),type:W(n.type,""),model:W(n.model,""),moe_enable:W(n.moeEnable,!1),notify_me_click_date:W(n.notifyMeClickDate,"")},I(r)));return r},pe=function(t){if(t.userId){var r="1"===e.get("isFromPassport");T(t.local,"isFromPassport",{path:"/"}),"function"==typeof window.onetrack&&window.onetrack("login",t.userId,t.accountType,t.extraParams,!r),r&&le({event:"login",tip:"",pageType:"login"})}},fe=function(e){"function"==typeof window.onetrack&&window.onetrack("logout",e),"function"==typeof window.gtag&&window.gtag("event","logout",e)},_e=function(e,t){return{name:e,value:void 0===t?-1:t,delta:0,entries:[],id:"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},ge=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if("first-input"===e&&!("PerformanceEventTiming"in self))return;var r=new PerformanceObserver((function(e){return e.getEntries().map(t)}));return r.observe({type:e,buffered:!0}),r}}catch(e){}},ve=function(e,t){var r=function r(n){"pagehide"!==n.type&&"hidden"!==document.visibilityState||(e(n),t&&(removeEventListener("visibilitychange",r,!0),removeEventListener("pagehide",r,!0)))};addEventListener("visibilitychange",r,!0),addEventListener("pagehide",r,!0)},ye=function(e){addEventListener("pageshow",(function(t){t.persisted&&e(t)}),!0)},we=function(e,t,r){var n;return function(o){t.value>=0&&(o||r)&&(t.delta=t.value-(n||0),(t.delta||void 0===n)&&(n=t.value,e(t)))}},he=-1,be=function(){return"hidden"===document.visibilityState?0:1/0},Ie=function(){ve((function(e){var t=e.timeStamp;he=t}),!0)},Se=function(){return he<0&&(he=be(),Ie(),ye((function(){setTimeout((function(){he=be(),Ie()}),0)}))),{get firstHiddenTime(){return he}}},Oe=function(e,t){var r,n=Se(),o=_e("FCP"),i=function(e){"first-contentful-paint"===e.name&&(c&&c.disconnect(),e.startTime<n.firstHiddenTime&&(o.value=e.startTime,o.entries.push(e),r(!0)))},a=window.performance&&performance.getEntriesByName&&performance.getEntriesByName("first-contentful-paint")[0],c=a?null:ge("paint",i);(a||c)&&(r=we(e,o,t),a&&i(a),ye((function(n){o=_e("FCP"),r=we(e,o,t),requestAnimationFrame((function(){requestAnimationFrame((function(){o.value=performance.now()-n.timeStamp,r(!0)}))}))})))},Ee=!1,Ne=-1,Ae={passive:!0,capture:!0},Ce=new Date,Pe=function(e,t){oe||(oe=t,ie=e,ae=new Date,ke(removeEventListener),xe())},xe=function(){if(ie>=0&&ie<ae-Ce){var e={entryType:"first-input",name:oe.type,target:oe.target,cancelable:oe.cancelable,startTime:oe.timeStamp,processingStart:oe.timeStamp+ie};ce.forEach((function(t){t(e)})),ce=[]}},Te=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var r=function(){Pe(e,t),o()},n=function(){o()},o=function(){removeEventListener("pointerup",r,Ae),removeEventListener("pointercancel",n,Ae)};addEventListener("pointerup",r,Ae),addEventListener("pointercancel",n,Ae)}(t,e):Pe(t,e)}},ke=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,Te,Ae)}))},Re={},De={"product-station":[{matchType:"include",file:"html",rule:"",entryType:"navigation",initiatorType:"navigation"},{matchType:"reg",file:"static.js",rule:new RegExp(/\/static\//),entryType:"resource",initiatorType:"script"},{matchType:"reg",file:"getgoodsinformation",rule:new RegExp(/getgoodsinformation/),entryType:"resource",initiatorType:"xmlhttprequest"},{matchType:"reg",file:"img",rule:new RegExp(/800x800/),entryType:"resource",initiatorType:"img"}]},Le=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(oe){i(oe)}}function c(e){try{u(n.throw(e))}catch(oe){i(oe)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,c)}u((n=n.apply(e,t||[])).next())}))},je=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(oe){i=[6,oe],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},Ue=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ve=function(){var t=this;this.platform=A(),this._format=function(e,t){return void 0===t&&(t=0),e?e.toFixed(t).valueOf():void 0},this._getWebVitals=function(){return Le(t,void 0,void 0,(function(){var e,t=this;return je(this,(function(r){return e=function(e){if("TTFB"===e.name){var r=e.entries[0].requestStart;t.metrics[e.name]=e.value-r}else t.metrics[e.name]=e.value},function(e,t){var r,n=Se(),o=_e("LCP"),i=function(e){var t=e.startTime;t<n.firstHiddenTime&&(o.value=t,o.entries.push(e),r())},a=ge("largest-contentful-paint",i);if(a){r=we(e,o,t);var c=function(){Re[o.id]||(a.takeRecords().map(i),a.disconnect(),Re[o.id]=!0,r(!0))};["keydown","click"].forEach((function(e){addEventListener(e,c,{once:!0,capture:!0})})),ve(c,!0),ye((function(n){o=_e("LCP"),r=we(e,o,t),requestAnimationFrame((function(){requestAnimationFrame((function(){o.value=performance.now()-n.timeStamp,Re[o.id]=!0,r(!0)}))}))}))}}(e,!0),function(e,t){Ee||(Oe((function(e){Ne=e.value})),Ee=!0);var r,n=function(t){Ne>-1&&e(t)},o=_e("CLS",0),i=0,a=[],c=function(e){if(!e.hadRecentInput){var t=a[0],n=a[a.length-1];i&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,a.push(e)):(i=e.value,a=[e]),i>o.value&&(o.value=i,o.entries=a,r())}},u=ge("layout-shift",c);u&&(r=we(n,o,t),ve((function(){u.takeRecords().map(c),r(!0)})),ye((function(){i=0,Ne=-1,o=_e("CLS",0),r=we(n,o,t)})))}(e,!0),function(e,t){var r,n=Se(),o=_e("FID"),i=function(e){e.startTime<n.firstHiddenTime&&(o.value=e.processingStart-e.startTime,o.entries.push(e),r(!0))},a=ge("first-input",i);r=we(e,o,t),a&&ve((function(){a.takeRecords().map(i),a.disconnect()}),!0),a&&ye((function(){var n;o=_e("FID"),r=we(e,o,t),ce=[],ie=-1,oe=null,ke(addEventListener),n=i,ce.push(n),xe()}))}(e,!0),Oe(e,!0),function(e){var t,r=_e("TTFB");t=function(){try{var t=performance.getEntriesByType("navigation")[0]||function(){var e=performance.timing,t={entryType:"navigation",startTime:0};for(var r in e)"navigationStart"!==r&&"toJSON"!==r&&(t[r]=Math.max(e[r]-e.navigationStart,0));return t}();if(r.value=r.delta=t.responseStart,r.value<0||r.value>performance.now())return;r.entries=[t],e(r)}catch(e){}},"complete"===document.readyState?setTimeout(t,0):addEventListener("load",(function(){return setTimeout(t,0)}))}(e),[2]}))}))},this._getIRL=function(){var e,r;try{for(var n=Ue(performance.getEntriesByType("resource")),o=n.next();!o.done;o=n.next()){var i=o.value;"img"===i.initiatorType&&(t.metrics.IRL=i.duration+(t.metrics.IRL||0))}}catch(a){e={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},this._getUSP=function(){var e,r="User stays on the page";return performance.measure(r),t.metrics.USP=(null===(e=performance.getEntriesByName(r)[0])||void 0===e?void 0:e.duration)||0,t.metrics.USP},this._customProductStation=function(){var e=!!document.body&&document.body.getAttribute("data-ot-pageType")||void 0;e&&De[e].forEach((function(e){var r,n;try{for(var o=Ue(performance.getEntries()),i=o.next();!i.done;i=o.next()){var a=i.value;a.entryType===e.entryType&&a.initiatorType===e.initiatorType&&("include"===e.matchType||"reg"===e.matchType&&e.rule.test(a.name))&&t.customArray.push({name:a.name,startTime:t._format(a.startTime),duration:t._format(a.duration),responseEnd:t._format(a.responseEnd)})}}catch(c){r={error:c}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}}))},this.collectStart=function(){t._getWebVitals(),t._getIRL()},this.collectEnd=function(){"product-station"===(!!document.body&&document.body.getAttribute("data-ot-pageType")||void 0)&&"m"===t.platform&&t._customProductStation(),t._getUSP()},this.reportPerf=function(){var r;t.collectEnd();var n=N(),o=A(),i=h(n),a=!!document.body&&document.body.getAttribute("data-ot-pageType")||void 0,c={LCP:t._format(t.metrics.LCP),CLS:t._format(t.metrics.CLS,4),FCP:t._format(t.metrics.FCP),FID:t._format(t.metrics.FID),TTFB:t._format(t.metrics.TTFB),IRL:t._format(t.metrics.IRL),USP:t._format(t.metrics.USP)},u={event:"performance",perf:JSON.stringify(c),alg:"",alg_group:"",alg_ver:"",search_result:"",search_word:"",search_type:"",page_version:"",muserid:e.get("mUserId")||void 0,guserid:e.get("guserid")||void 0,instance_id:i||void 0,page:$(),site_country:n||void 0,app_platform:o||void 0,ot_ua:(null===(r=null===window||void 0===window?void 0:window.navigator)||void 0===r?void 0:r.userAgent)||void 0,page_referrer:P(n)||void 0,page_type:a},s="";if("product-station"===a&&"m"===t.platform){var d={};t.customArray.forEach((function(e,t){d["p"+(t+1)+"_ST"]=e.startTime,d["p"+(t+1)+"_DR"]=e.duration,d["p"+(t+1)+"_RE"]=e.responseEnd})),s=JSON.stringify(d),u.alg=s.substring(0,100),u.alg_group=s.substring(100,200),u.alg_ver=s.substring(200,300),u.search_result=s.substring(300,400),u.search_word=s.substring(400,500),u.search_type=s.substring(500,600),u.page_version=s.substring(600,700)}return V(u),u},this.metrics={},this.customArray=[],this.customPerf={}},Me=function(){var e=new Ve;return e.collectStart(),e.reportPerf};var Be=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(c){o={error:c}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},Ge=function(t,r){if(window.gtag||(window.gtag=window.gtag||function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];(window.dataLayer=window.dataLayer||[]).push(e)}),Y()){if(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"dle_consent_update"}),!("object"==typeof window&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype))(y=document.createElement("script")).src="//i01.appmifile.com/webfile/globalweb/stat/js/IntersectionObserver.min.js",document.head.appendChild(y);var n,o,i,a,c=document.querySelector("#xmot"),d=L(),m=d.isOldAPP,l=d.isOldIOS,p=d.isOtherApp,f=d.isMihomeApp,_=d.isMicommunityApp;if(!c||!window.onetrack){window.onetrack=window.onetrack||function(){(window.onetrack.q=window.onetrack.q||[]).push(arguments)};var g=J()?"cn":t.region||t.local||"cn",v=p||m||l?e.get("DEVICEID")||"undefined":(n=t.local,o="1"===e.get("_ot_use_type"),i=w(),a=!o&&!!i,e.set("_ot_use_type",a?"0":"1",k(n,{expires:730})),e.get("_ot_instance_id")||e.set("_ot_instance_id",ee(),k(n,{expires:new Date(Date.now()+34128e6)})),a?i:{type:"cookie",name:"_ot_instance_id",options:k(n,{expires:new Date(Date.now()+34128e6)})});window.onetrack("init",t.appId||s(t.local).APP_ID,"default",g,v||void 0);var y;(y=document.createElement("script")).src="//ssl-cdn.static.browser.mi-img.com/mistat-data/onetrack/onetrack.js",y.async=!0,y.id="xmot",document.head.appendChild(y)}if(!window.pubsub){window.pubsub=window.pubsub||function(){(window.pubsub.q=window.pubsub.q||[]).push(arguments)},window.pubsub("init",t.local.toUpperCase(),"4c17b4d1cfa2fb108700a15027ff54139f56ed9a","mi-store-pubsub","xiaomi-mistore-pubsub");var h=document.createElement("script");h.type="text/javascript",h.src="//i02.appmifile.com/i18n/pubsub/i18n-pubsub.js",h.setAttribute("async","async"),document.body.appendChild(h)}window.gtag||(window.gtag=window.gtag||function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];(window.dataLayer=window.dataLayer||[]).push(e)});var b=p?f?"mihome":_?"micommunity":"others":"1"===e.get("ISAPP")?"android":"1"===e.get("ISIOS")?"ios":t.platform||(window.innerWidth<=720?"m":"pc"),I=document.querySelector("html"),S=Be(t.tip instanceof Object?[t.tip.a]:String(t.tip||"").split("."),1)[0];I&&I.setAttribute("data-ot-project",String(S||s(t.local).PRO_ID||0)),I&&I.setAttribute("data-ot-local",t.local),I&&I.setAttribute("data-ot-platform",b),"cn"===t.region&&I&&I.setAttribute("data-ot-test","true"),function(t,r,n){var o=u(r),i=Number(o["pc"===n?"pc":"m"]);(function(t){var r=document.location.href||"",n=document.referrer||"",o=e.get("_ot_prev_uri_path")||"";e.set("_ot_referrer_path",n||"",k(t)),e.set("_ot_prev_uri_path",o!==n?n:o||"",k(t)),e.set("_ot_curr_uri_path",r,k(t))})(r),T(r,"_ot_update_flag"),R(r),t.onetrack("set","ref_tip",(function(){return E()})),t.onetrack("set","site_country",r),t.onetrack("set","domain_id",i),t.onetrack("set","app_platform",n),t.onetrack("set","page",(function(){return $()})),t.onetrack("set","page_version",H()),t.onetrack("set","lastsource",(function(){return C(r)})),t.onetrack("set","session_id",(function(){return R(r)}));var a=["utm_type","utm_channel","utm_campaign","utm_source","utm_medium","utm_term","utm_content"],c=a.map(B);c.some((function(e){return!!e}))&&T(r,a.map((function(e){return"_ot_"+e})));a.forEach((function(e,n){t.onetrack("set",e,(function(){return x(r,e,c[n])}))}))}(window,t.local,b),r&&r instanceof Function&&r(window,t.local);var O=e.get("mUserId")||"";if(O)pe({local:t.local,userId:O});else if(function(){var e="temp";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(t){return!1}}()){(localStorage.getItem("_onetrack_uid")||"")&&fe()}if(t.tip){var N=Object.assign(t,{tip:t.tip});de(N)}var A=null;window.onload=function(){A=Me()};var P,D,j,U=!1;P=function(){window.currentPath!==window.location.pathname&&(window.currentPath=window.location.pathname,A&&"function"==typeof A?A():(A=Me())())},D=window.history,j=function(e){var t=D[e];return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var o=new Event(e.toLowerCase());return t.apply(D,r),window.dispatchEvent(o),t}},window.history.pushState=j("pushState"),window.history.replaceState=j("replaceState"),window.addEventListener("pushstate",P,!1),window.addEventListener("replacestate",P,!1),window.addEventListener("popstate",P,!1),window.onbeforeunload=function(){U=!0,A&&"function"==typeof A?A():(A=Me())()},window.onpagehide=function(){U||(A&&"function"==typeof A?A():(A=Me())())},window.currentPath=window.location.pathname}};var qe=function(t,r){var n,o,i,a,c,u,s,d=b(t.tip,r)||"";if(M("click",G({tip:d,module_pos:q(t.modulePos),module_title:q(t.moduleTitle,""),element_name:q(t.elementName,""),element_title:q(t.elementTitle,""),link:q(D(t.linkUrl||t.link),""),asset_link:q(D(t.assetLink),""),commodity_id:q(t.commodityId,""),product_id:q(t.productId,""),goods_id:q(t.goodsId,""),tag:q(t.tag,""),version:q(t.version,""),exp_id:q(t.expId,""),sub_module_pos:q(t.subModulePos),sub_module_name:q(t.subModuleName,""),sub_module_title:q(t.subModuleTitle,""),notify_me_click_date:q(t.notifyMeClickDate,""),moe_enable:q(t.moeEnable,!1)},t.extra)),window.dataLayer&&t.isOpenGA){var m=Object.assign({},t,t.extra,{event:"click"});le(m,r)}return d&&(t.linkUrl||t.link)&&!t.isNotJump&&(O(d),n=d,o=N(),i=_((n||"").split("."),5),a=i[1],c=i[4],u=K()?JSON.parse(sessionStorage.getItem("DISABLED_B")||"[]").map((function(e){return Number(e||0)})):[],s=K()?JSON.parse(sessionStorage.getItem("ENABLED_E")||"[]").map((function(e){return Number(e||0)})):[],(!~u.indexOf(Number(a||0))||~s.indexOf(Number(c||0)))&&o&&e.set("_ot_view_tip",n||"",k(o))),d},We=function(e,t){Array.from(document.querySelectorAll(e.targetSelector||"[data-ot-click]")).forEach((function(r){var n=r&&r.getAttribute("data-ot-tip")||"",o=r&&r.getAttribute(e.targetDataAttr||"data-ot-click")||"{}",i={};try{i=JSON.parse(o)}catch(oe){J()&&console.warn("JSON string ["+o+"] is invalid!")}var a="function"==typeof t?t(i,r):i,c=Object.assign(a,n?{tip:n}:{});r.addEventListener("click",(function(e){return qe(c,e.currentTarget||void 0)}))}))},Fe=function(){return Fe=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Fe.apply(this,arguments)},Je=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(oe){i(oe)}}function c(e){try{u(n.throw(e))}catch(oe){i(oe)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,c)}u((n=n.apply(e,t||[])).next())}))},He=function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(oe){i=[6,oe],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},Ke=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},ze=function(e){var t,r;return Je(this,void 0,void 0,(function(){var n,o,i,a,c,u,s,d,p,f,_,g,v,y,w,h,S,O,A,C,x,T;return He(this,(function(k){switch(k.label){case 0:if(!(n=b(e.tip||(null===(t=e.ecommerce)||void 0===t?void 0:t.tip))||"")||!Y())return[2,""];if(o={},o=e.ecommerce?e:{event:e.event,ecommerce:Fe({items:[Fe({},e)]},e)},i=Object.assign({},o),a=[i.ecommerce.commodityId||i.ecommerce.commodity_id,i.ecommerce.productId||i.ecommerce.product_id,i.ecommerce.items[0].itemId||i.ecommerce.items[0].item_id,i.ecommerce.spuId||i.ecommerce.spu_id].filter((function(e){return!!e})),c=te(a),!window.dataLayer)return[3,11];if(u=N(),s=I(n),d=[],!i.ecommerce||!i.ecommerce.items)return[3,8];k.label=1;case 1:k.trys.push([1,6,7,8]),p=Ke(i.ecommerce.items),f=p.next(),k.label=2;case 2:return f.done?[3,5]:(_=f.value,g=_.itemName?_.itemName.toLowerCase().includes("poco")?"poco":_.itemName.toLowerCase().includes("redmi")?"redmi":"mi":"mi","select_item"===i.event&&(v=W(i.ecommerce.pageType||!!document.body&&document.body.getAttribute("data-ot-pageType")||void 0,""),y=W(_.itemListName,"")?v+"."+W(_.itemListName,""):void 0,w=W(_.itemListId,"")?v+"."+W(_.itemListId,""):v+"."+s.tipC+(s.tipC1?"|"+s.tipC1:""),re("_ot_item_list_name",W(y,"")),re("_ot_item_list_id",W(w,""))),[4,X(i.event,_,s,i)]);case 3:h=k.sent(),A=Fe({price:l(u)?Number(_.price||0):0,item_brand:W(_.itemBrand||_.item_brand||g,""),item_category:W(_.itemCategory||_.item_ategory,""),item_variant:W(_.itemVariant||_.item_variant,""),quantity:Number(_.quantity||0),item_category2:W(_.itemCategory2,""),item_id:W(c.itemId,"")?""+W(c.itemId,""):"undefined",item_name:(null===(r=W(_.itemName||_.item_name,""))||void 0===r?void 0:r.replace(/<.*?>/g," ").replace(/ +/g," "))||"undefined",promotion_id:W(_.promotionId||_.promotion_id,""),promotion_name:W(_.promotionName||_.promotion_name,""),creative_name:W(_.creativeName||_.creative_name,""),creative_slot:W(_.creativeSlot||_.creative_slot,"")},h),d.push(A),k.label=4;case 4:return f=p.next(),[3,2];case 5:return[3,8];case 6:return S=k.sent(),x={error:S},[3,8];case 7:try{f&&!f.done&&(T=p.return)&&T.call(p)}finally{if(x)throw x.error}return[7];case 8:return i.ecommerce.items&&0!==i.ecommerce.items.length?[3,10]:[4,X(i.event,{},s,i)];case 9:O=k.sent(),A=Fe({price:0,item_brand:void 0,item_category:void 0,item_variant:void 0,quantity:0,item_category2:void 0,item_id:"undefined",item_name:"undefined",promotion_id:void 0,promotion_name:void 0,creative_name:void 0,creative_slot:void 0},O),d.push(A),k.label=10;case 10:C=i.ecommerce||{},V({event:i.event,ecommerce:Fe({currency:m(u).currencyCode,alg:W(C.alg,""),alg_ver:W(C.algVer,""),alg_group:W(C.algGroup,""),transation_id:W(C.transationId,""),status:W(C.status,""),payment_type:W(C.paymentType,""),tag:W(C.tag,""),stock:W(C.stock,""),shipping_tier:W(C.shippingTier,""),search_result:W(C.searchResult||C.result,""),search_word:W(C.searchWord,""),search_type:W(C.searchType,""),shipping:l(u)?Number(C.shipping||0):0,tax:l(u)?Number(C.tax||0):0,link:W(D(C.linkUrl||C.link),""),tr_promo_code:W(C.trPromoCode,""),tr_promo_price:l(u)?Number(C.trPromoPrice||0):0,value:l(u)?Number(C.value||0):0,page_referrer:P(u)||void 0,page_version:H()||void 0,version:W(C.version,""),spu_id:W(c.spuId,"")?""+W(c.spuId,""):void 0,product_id:W(c.productId,"")?""+W(c.productId,""):void 0,commodity_id:W(c.commodityId,"")?""+W(c.commodityId,""):void 0,tip:n,ref_tip:E()||void 0,element_name:W(C.elementName,""),element_title:W(C.elementTitle,""),promo_code:W(C.promoCode||C.promo_code,""),promo_price:l(u)?Number(C.promoPrice||0):0,page_type:W(C.pageType||!!document.body&&document.body.getAttribute("data-ot-pageType")||void 0,""),image_url:W(C.imageUrl,""),category_name:W(C.categoryName,""),category_id:W(C.categoryId,""),parent_category_id:W(C.parentCategoryId,""),parent_category_name:W(C.parentCategoryName,""),source:W(C.source,""),revenue:W(C.revenue,"")?""+W(C.revenue,""):void 0,the_final_amount_user_pays:W(C.ThefinalAmountUserPays,""),discount_vaue:W(C.discountVaue,"")?""+W(C.discountVaue,""):void 0,order_pin_code:W(C.orderPinCode,"")?""+W(C.orderPinCode,""):void 0,number_of_search_resuts:l(u)?Number(C.numberOfSearchResuts||0):0,purchase_amount:W(C.purchaseAmount,""),items:d},s),moe_enable:W(C.moeEnable,"")},!0),k.label=11;case 11:return[2,n]}}))}))},Ze=function(){return Ze=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ze.apply(this,arguments)},Ye=function(e,t){var r=b(e.tip,t)||"";if(M("expose",G({tip:r,module_pos:q(e.modulePos),module_title:q(e.moduleTitle,""),element_name:q(e.elementName,""),element_title:q(e.elementTitle,""),link:q(D(e.linkUrl||e.link),""),asset_link:q(D(e.assetLink),""),commodity_id:q(e.commodityId,""),product_id:q(e.productId,""),goods_id:q(e.goodsId,""),tag:q(e.tag,""),version:q(e.version,""),exp_id:q(e.expId,""),sub_module_pos:q(e.subModulePos),sub_module_name:q(e.subModuleName,""),sub_module_title:q(e.subModuleTitle,"")},e.extra)),window.dataLayer&&e.isOpenGA){var n=Object.assign({},e,e.extra,{event:"expose"});le(n,t)}return r},$e=function(e,t){var r=Array.from((e.targetNodeWrapper||document).querySelectorAll(e.targetNodeSelector||"[data-ot-expose]"));if("function"==typeof IntersectionObserver){var n={root:e.targetRootSelector&&document.querySelector(e.targetRootSelector)||null,rootMargin:e.targetRootMargin||"0px",threshold:void 0===e.exposeThreshold?.3:e.exposeThreshold},o=new IntersectionObserver((function(r){r.forEach((function(r){if(!(r.intersectionRatio<=0)&&r.isIntersecting){var n=r.target||{},i=n&&n.getAttribute("data-ot-tip")||"",a=n&&n.getAttribute(e.targetNodeDataAttr||"data-ot-expose")||"{}",c={};try{c=JSON.parse(a)}catch(oe){J()&&console.warn("JSON string ["+a+"] is invalid!")}var u="function"==typeof t?t(c,n):c;if(Ye(Object.assign({},u,i?{tip:i}:{},{isOpenGA:!1}),n),window.dataLayer){var s=Object.assign(u,i?{tip:i}:{});if(u.isOpenGA)if("ecommerce"===s.eventType){var d={event:s.event,ecommerce:s.ecommerce};s.ecommerce||(d={event:s.event,ecommerce:Ze({items:[Ze({},s)]},s)}),ze(d,n)}else s.event=s.event||"expose",le(s,n)}!e.isInfinite&&o.unobserve(n)}}))}),n);return r.forEach((function(e){o.observe(e)})),o}console.warn("Loading polyfill for IntersectionObserver")},Xe=function(e){var t=b(e.tip)||"";return M("slide",G({tip:t,link:q(D(e.linkUrl||e.link),""),asset_link:q(D(e.assetLink),""),asset_id:q(e.assetId,""),commodity_id:q(e.commodityId,""),product_id:q(e.productId,""),goods_id:q(e.goodsId,""),tag:q(e.tag,""),alg:q(e.alg,""),alg_ver:q(e.algVer,""),alg_group:q(e.algGroup,"")},e.extra)),t},Qe=function(e){var t=b(e.tip)||"";return M("add_cart",G({tip:t,commodity_id:q(e.commodityId,""),product_id:q(e.productId,""),goods_id:q(e.goodsId,""),tag:q(e.tag,""),goods_count:q(e.goodsCount,1),goods_amount:q(e.goodsAmount,0),parent_goods_id:q(e.parentGoodsId,0),bundle_id:q(e.bundleId,0)},e.extra)),t},et=function(){var e=document.querySelector("body");e&&e.removeAttribute("data-ot-page")},tt=function(e,t){var r=b(t.tip)||"",n={tip:r};Object.keys(t).forEach((function(e){n[e.replace(/([A-Z])/g,"_$1").toLowerCase()]=q(t[e])})),n.tip=r,M(e,n)},rt=function(t){if(Y()&&window.pubsub){var r=N(),n=A(),o=h(r),i=window.navigator.userAgent,a=i.match(/Android.*; ?(.*(?= Build))/),c=i.match(/iPhone OS .*?(?= )/),u=a&&a[1],s=c&&c[0],d={fr:"EU",es:"EU",it:"EU",uk:"EU",nl:"EU",pl:"EU",de:"EU",in:"IN",ru:"RU",default:"SG"},m={B:{instance_id:"1"===e.get("ISIOS")?e.get("DEVICEID")||void 0:"1"===e.get("ISAPP")?e.get("RECOMMENDID")||e.get("DEVICEID")||void 0:o,item_id:t.itemId,Device:void 0,"Device model":i.includes("Android")?u:i.includes("iPhone")?s:void 0,app_platform:n||void 0,event_name:t.eventName,page_type:t.pageType},attributes:{region:N().toUpperCase(),area:d[N()]||d.default}};!function(t){var r=L(),n=r.isUseMiCommand,o=r.isOtherApp,i="xiaomi://MiEventTrackCommand?action=logPubSub&params="+encodeURIComponent(t);!o&&n&&"1"===e.get("ISIOS")&&Number(e.get("IOSVERSION"))>=40802?window.location.assign(i):!o&&"1"===e.get("ISAPP")&&Number(e.get("APPVERSION"))>=40800?prompt(i):null===window||void 0===window||window.pubsub("pub",t)}(JSON.stringify(m))}};const nt=function(){var e=window.xmot&&window.xmot.q;window.xmot=ot,e instanceof Array&&!!e.length&&e.forEach((function(e){try{ot.apply(void 0,e)}catch(t){}}));return ot}();function ot(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n={init:Ge,view:de,click:qe,clickWith:We,expose:Ye,exposeWith:$e,slide:Xe,addCart:Qe,login:pe,logout:fe,exit:et,performance:Me,default:tt,custom:le,ecommerce:ze,getSettings:Z,pubSubPush:rt};return(n[e]||n.default).apply(void 0,t)}})(),n=n.default})()}));